(this["webpackJsonpdashboard-react"]=this["webpackJsonpdashboard-react"]||[]).push([[0],{151:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(32),i=n.n(o),c=(n(86),n(87),n(33)),s=n(7),u=Object(s.a)(),l=n(17),d=n(63);function h(e){var t=e.component,n=(e.isPrivate,Object(d.a)(e,["component","isPrivate"]));return r.a.createElement(l.b,Object.assign({},n,{component:t}))}h.defaultProps={isPrivate:!1};var p=n(65),f=n(66),m=n(76),g=n(67),v=n(35),b=n(77),y=n(8),w=n(22),x=n(27),_=n.n(x);function j(e,t){var n;return{type:"fetch_data",payload:{country:e,historicalDates:(n=t,Array.from({length:n},(function(e,t){return _()().subtract(t,"days")})))}}}var O={lastWeek:[],nextWeek:[],graphData:[],height:800,width:400,is_loading:!1,crosshairValues:[]};function k(e){return e.loginReducer.lastWeek}function E(e){return e.loginReducer.nextWeek}function D(e){return e.loginReducer.is_loading}function W(e){return e.loginReducer.graphData}function M(e){return e.loginReducer.width}function R(e){return e.loginReducer.height}function Y(e){return e.loginReducer.crosshairValues}var P=n(36),z=n(9);function V(){var e=Object(y.a)(["\n  color: white;\n  margin: 16px;\n"]);return V=function(){return e},e}function C(){var e=Object(y.a)(["\n  color: white;\n  text-align: center;\n"]);return C=function(){return e},e}function L(){var e=Object(y.a)(["\n  color: yellow;\n  text-align: center;\n  font-size: 15px;\n"]);return L=function(){return e},e}function S(){var e=Object(y.a)(["\n  flex-direction: column;\n  font-size: 10px;\n"]);return S=function(){return e},e}function A(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  margin-top: 24px;\n"]);return A=function(){return e},e}function B(){var e=Object(y.a)(["\n  margin: auto;\n"]);return B=function(){return e},e}function I(){var e=Object(y.a)(["\n  color: white;\n  text-align: center;\n"]);return I=function(){return e},e}function J(){var e=Object(y.a)(["\n  color: white;\n  text-align: center;\n"]);return J=function(){return e},e}function T(){var e=Object(y.a)(["\n  margin-right: 16px;\n  margin-left: 16px;\n  width: '100%';\n  border-radius: 8px;\n  border: 0.5px solid yellow;\n"]);return T=function(){return e},e}function U(){var e=Object(y.a)(["\n  font-size: 1.2rem;\n  color: white;\n  font-weight: bold;\n  text-align: center;\n"]);return U=function(){return e},e}function q(){var e=Object(y.a)(["\n  margin-left: 16px;\n  margin-right: 16px;\n  width: '100%';\n"]);return q=function(){return e},e}var F=z.a.div(q()),H=z.a.p(U()),N=z.a.div(T()),X=z.a.h4(J()),$=z.a.h1(I()),G=z.a.div(B()),K=z.a.div(A()),Q=z.a.div(S()),Z=z.a.p(L()),ee=z.a.p(C()),te=z.a.div(V()),ne=n(72),ae=n.n(ne),re=n(21);n(133);function oe(){var e=Object(y.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: ",";\n"]);return oe=function(){return e},e}var ie=z.a.div(oe(),"#212121"),ce=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(g.a)(t).call(this,e))).updateWindowDimensions=n.updateWindowDimensions.bind(Object(v.a)(n)),n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(j("india",10)),window.addEventListener("resize",this.updateWindowDimensions.bind(this)),this.updateWindowDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions.bind(this))}},{key:"updateWindowDimensions",value:function(){var e,t;this.props.dispatch((e=window.innerWidth,t=window.innerHeight,{type:"update_dimensions",payload:{width:e,height:t}}))}},{key:"render",value:function(){var e=this;console.log(this.props.graphData);var t=this.props.lastWeek[this.props.lastWeek.length-1];return t?r.a.createElement(ie,null,r.a.createElement(F,null,r.a.createElement(H,null,"Covid-19 predictions in India")),r.a.createElement(N,null,r.a.createElement(X,null,"Current number of cases"),r.a.createElement($,null,t.total_cases)),r.a.createElement(K,null,this.props.nextWeek.map((function(e,t){return r.a.createElement(Q,{key:t},r.a.createElement(Z,null,e.total_cases),r.a.createElement(ee,null,e.date.format("ddd, Do MMM")))}))),r.a.createElement(te,null,r.a.createElement(re.e,{onMouseLeave:function(){e.props.dispatch({type:"clear_crosshair_values",payload:{}})},margin:{left:.09*this.props.width,right:10,top:10,bottom:40},xType:"time",height:300,width:.95*this.props.width},r.a.createElement(re.c,{onNearestX:function(t){e.props.dispatch({type:"set_crosshair_values",payload:{values:[{x:t.x.toDate(),y:t.y}]}})},style:{fill:"none"},color:"yellow",data:this.props.graphData}),r.a.createElement(re.b,null),r.a.createElement(re.a,{values:this.props.crosshairValues}),r.a.createElement(re.d,{tickFormat:function(e){return"".concat(e.getDate(),"/").concat(e.getMonth()+1)},tickTotal:5}),r.a.createElement(re.f,{tickSize:1})))):r.a.createElement(ie,null,r.a.createElement(G,null,r.a.createElement(ae.a,{type:"MutatingDots",color:"yellow",height:100,width:100}),r.a.createElement(X,null,"Calculating...")))}}]),t}(r.a.Component),se=Object(P.b)((function(e){return{lastWeek:k(e),nextWeek:E(e),is_loading:D(e),graphData:W(e),height:R(e),width:M(e),crosshairValues:Y(e)}}))(ce);function ue(){return r.a.createElement(l.d,null,r.a.createElement(h,{path:"/",exact:!0,component:se}))}var le=function(){return r.a.createElement(c.a,{history:u},r.a.createElement(ue,null))},de=n(75),he=n(16),pe=n(18),fe=n.n(pe),me=n(19),ge=n(74),ve=n.n(ge),be={"content-type":"application/octet-stream","x-rapidapi-host":"coronavirus-monitor.p.rapidapi.com","x-rapidapi-key":"5aa871fb55msha1efb1e49628ad0p15ec67jsn429c11038010"},ye=function(e,t,n){return ve.a.request({method:e,baseURL:"https://coronavirus-monitor.p.rapidapi.com/",url:t,timeout:3e3,headers:be,params:n})},we=fe.a.mark(_e),xe=fe.a.mark(Oe);function _e(e){var t,n,a,r,o,i,c,s,u,l,d,h,p,f,m,g,v,b,y,w,x;return fe.a.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:j.prev=0,t=[],n=[],a=[],r=!0,o=!1,i=void 0,j.prev=7,c=e.payload.historicalDates[Symbol.iterator]();case 9:if(r=(s=c.next()).done){j.next=19;break}return u=s.value,j.next=13,Object(me.b)(ye,"get","coronavirus/history_by_country_and_date.php",{country:e.payload.country,date:u.format("YYYY-MM-DD")});case 13:l=j.sent,0!==(d=l.data).stat_by_country.length&&t.push(d.stat_by_country[d.stat_by_country.length-1]);case 16:r=!0,j.next=9;break;case 19:j.next=25;break;case 21:j.prev=21,j.t0=j.catch(7),o=!0,i=j.t0;case 25:j.prev=25,j.prev=26,r||null==c.return||c.return();case 28:if(j.prev=28,!o){j.next=31;break}throw i;case 31:return j.finish(28);case 32:return j.finish(25);case 33:for(h=t[t.length-1].total_cases,p=t.length-2;p>-1;p--)f=t[p],m=f.total_cases,g=Math.log(m)-Math.log(h),v=g/(t.length-1-p),b=Math.exp(v)-1,a.push(b);return y=je(a),Array.from({length:t.length-1},(function(e,a){var r=h*Math.pow(1+y,a+t.length);return n.push(Math.ceil(r)),null})),n=n.map((function(e,t){return{total_cases:e,date:(n=t+1,_()().add(n,"days"))};var n})),w=t.map((function(e){return{total_cases:e.total_cases,date:_()(e.record_date,"YYYY-MM-DD")}})),x=w.reverse().concat(n),console.log("Mean R: ".concat(y)),j.next=43,Object(me.d)({type:"fetch_data_success",payload:{lastWeekData:w,nextWeekPredictions:n,graphData:x.map((function(e){return{x:e.date,y:e.total_cases}})),is_loading:!1}});case 43:j.next=49;break;case 45:return j.prev=45,j.t1=j.catch(0),j.next=49,Object(me.d)({type:"fetch_data_failure",payload:{is_loading:!1,error:"Something went wrong, Please try again"}});case 49:case"end":return j.stop()}}),we,null,[[0,45],[7,21,25,33],[26,,28,32]])}var je=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length};function Oe(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)("fetch_data",_e);case 2:case"end":return e.stop()}}),xe)}var ke=fe.a.mark(Ee);function Ee(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Object(me.c)(Oe)]);case 2:case"end":return e.stop()}}),ke)}var De=Object(de.a)(),We=Object(he.c)({loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_data":return Object(w.a)({},e,{is_loading:!0});case"fetch_data_success":return Object(w.a)({},e,{lastWeek:t.payload.lastWeekData,nextWeek:t.payload.nextWeekPredictions,graphData:t.payload.graphData});case"fetch_data_failure":return Object(w.a)({},e,{is_loading:!1});case"update_dimensions":return Object(w.a)({},e,{height:t.payload.height,width:t.payload.width});case"set_crosshair_values":return Object(w.a)({},e,{crosshairValues:t.payload.values});case"clear_crosshair_values":return Object(w.a)({},e,{crosshairValues:[]});default:return e}}}),Me=Object(he.e)(We,Object(he.a)(De));De.run(Ee);var Re=Me;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(P.a,{store:Re},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,n){e.exports=n(151)},86:function(e,t,n){},87:function(e,t,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.5f6bf191.chunk.js.map